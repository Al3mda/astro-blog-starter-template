---
// src/components/meachat/Header.astro
// Main navigation header
import { getT, isRTL, type Locale, getLocalizedPath, getOppositeLocale } from '../../utils/i18n';
import logoLight from '../../assets/img/logo/MeaChat-Light.svg';

interface Props {
  locale?: Locale;
}

const { locale = 'en' } = Astro.props;
const t = getT(locale);
const rtl = isRTL(locale);
const oppositeLocale = getOppositeLocale(locale);
---

<<header class="fixed top-0 left-0 right-0 z-40 bg-dark bg-opacity-90 backdrop-blur-sm">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo -->
    <a href={getLocalizedPath('/', locale)} class="flex items-center">
      <img
        src={logoLight.src}
        alt="MeaChat Logo"
        width="200"
        height="50"
        class="h-10 w-auto"
      />
    </a>

    <div class="flex items-center gap-8">
      <!-- Navigation Links -->
      <nav class="hidden md:flex items-center space-x-8">
        <a 
          href={getLocalizedPath('/', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.home')}
        </a>
        <a 
          href={getLocalizedPath('#features', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.features')}
        </a>
        <a 
          href={getLocalizedPath('#pricing', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.pricing')}
        </a>
        <a 
          href={getLocalizedPath('/blog', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.blog')}
        </a>
        <a 
          href={getLocalizedPath('/about', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.about')}
        </a>
        <a 
          href={getLocalizedPath('/docs', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.docs')}
        </a>
      </nav>

      <!-- Lang + buttons -->
      <div class="hidden md:flex items-center gap-4">
        <!-- Language Switcher -->
        <div class="flex items-center gap-2">
          <a
            href={locale === 'en' ? '/' : getLocalizedPath('/', oppositeLocale)}
            class={`text-sm transition-colors ${
              locale === 'en' ? 'text-primary font-medium' : 'text-gray-400 hover:text-white'
            }`}
          >
            {t('header.english')}
          </a>
          <span class="text-gray-600">|</span>
          <a
            href={locale === 'ar' ? '/ar' : getLocalizedPath('/', oppositeLocale)}
            class={`text-sm transition-colors ${
              locale === 'ar' ? 'text-primary font-medium' : 'text-gray-400 hover:text-white'
            }`}
          >
            {t('header.arabic')}
          </a>
        </div>

        <!-- Call to Action Buttons -->
        <div class="flex items-center gap-3">
          <a
            href="#"
            class="gradient-bg text-white px-6 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity whitespace-nowrap"
          >
            {t('header.dashboard')}
          </a>
          <a
            href="#"
            class="gradient-bg text-white px-6 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity whitespace-nowrap"
          >
            {t('header.signin')}
          </a>
        </div>
      </div>
    </div>
  </div>
</header>


<!-- Mobile Menu -->
<div class="mobile-menu" id="mobile-menu">
  <a 
          href={getLocalizedPath('/', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.home')}
        </a>
         <a 
          href={getLocalizedPath('#features', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.features')}
        </a>
         <a 
          href={getLocalizedPath('#pricing', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.pricing')}
        </a>
         <a 
          href={getLocalizedPath('/blog', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.blog')}
        </a>
        <a 
          href={getLocalizedPath('/about', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.about')}
        </a>
         <a 
          href={getLocalizedPath('/docs', locale)}
          class="text-white hover:text-primary transition-colors"
        >
          {t('header.docs')}
        </a>
  <a href="#" class="gradient-bg text-white px-6 py-3 rounded-button font-medium text-center mt-4 whitespace-nowrap">{t('header.dashboard')}</a>

</div>

<div class="overlay" id="overlay"></div>